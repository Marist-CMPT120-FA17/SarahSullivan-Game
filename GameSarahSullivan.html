<!DOCTYPE html>
<!-- Sarah Sullivan -->
<!-- Project 2 - Game v0.2 -->
<html>
   <head>
      <title>
         Sarah's Game
      </title>
      <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
      		<style type = "text/css">
			body {	font-family: arial;
					text-align: center;
					font-size: 10pt;
					background-color: lightsteelblue;}
			h1 {	font-family: impact;
					font-size: 35pt;
					color: white;
					letter-spacing: 2pt;
					text-transform: uppercase;
					text-shadow: 0px 4px lightsteelblue;}
			a:link {	color: black;
						text-decoration: none;
						font-weight: bold;}
			a:hover {	color: white;
						letter-spacing: 2pt;
						font-weight: bold;
						text-decoration: underline;
						background-color: black;}
			div {	position: relative;
					background-color: black;}
			</style>
      <script type="text/javascript">
         //
         // Variables
         //         
         var currentLoc = 0;
         var score = 0;
         var navigationErrorCount = 0;
         var sarcasmThreshold = 5;
         
         var hasVisitedLoc0 = false;
         var hasVisitedLoc1 = false;
         var hasVisitedLoc2 = false;
         var hasVisitedLoc3 = false;
         var hasVisitedLoc4 = false;
                  
         //
         // Initialization
         //
         function init() {
            look();
         }
         
         //
         // Directional Buttons
         //         
         function btnNorth_click() {
            if (currentLoc === 0) {
               currentLoc = 1;
               look();               
            } else {
              if (currentLoc === 3) {
                 currentLoc = 0;
                 look();            
              } else {
                 navigationError(); 
              }
            }            
         }

         function btnSouth_click() {
            if (currentLoc === 1) {
               currentLoc = 0;
               look();
            } else {
              if (currentLoc === 0) {
                 currentLoc = 3;
                 look();
              } else {
                 navigationError(); 
              }
            }
         }

         function btnEast_click() {
            if (currentLoc === 4) {
               currentLoc = 0;
               look();
            } else {
              if (currentLoc === 0) {
                 currentLoc = 2;
                 look();
              } else {
                 navigationError(); 
              }
            }
         }

         function btnWest_click() {
            if (currentLoc === 2) {
               currentLoc = 0;
               look();
            } else {
              if (currentLoc === 0) {
                 currentLoc = 4;
                 look();
              } else {
                 navigationError(); 
              }
            }
         }
                  
         //
         // Story
         //
         function look() {
            var desc = "";
            switch(currentLoc) {
               case 0: desc = "0. You are at home.";
                       break;
               case 1: desc = "1. You are at Rossi's, the best sandwich place in Poughkeepsie!";
                       break; 
               case 2: desc = "2. You're now at McDonald's...that stinks.";
                       break;
               case 3: desc = "3. You are walking along the Hudson River.";
                       break;
               case 4: desc = "4. You are laying on your couch watching TV.";
                       break;
               default: desc = "Wrong way!";
            }
            checkScore();
            desc = desc + "\n" + "Score: " + score ;
            displayMessage(desc);
         }

         function navigationError() {
            navigationErrorCount = navigationErrorCount + 1;
            if (navigationErrorCount < sarcasmThreshold) {
               displayMessage("Wrong way!");
            } else {
               displayMessage("Turn around!!!!");
            }            
         }

         function checkScore() {
            if (! hasVisitedLoc0) {            
               if (currentLoc === 0) {
                  score = score + 5;
                  hasVisitedLoc0 = true;
               }
            } else if ( (! hasVisitedLoc1) && (currentLoc === 1) ) {            
                  score = score + 5;
                  hasVisitedLoc1 = true;
            } else if ( (! hasVisitedLoc2) && (currentLoc === 2) ) {            
                  score = score + 5;
                  hasVisitedLoc2 = true;
            } else if ( (! hasVisitedLoc3) && (currentLoc === 3) ) {            
                  score = score + 5;
                  hasVisitedLoc3 = true;
            } else if ( (! hasVisitedLoc4) && (currentLoc === 4) ) {            
                  score = score + 5;
                  hasVisitedLoc4 = true;
            }            
         }

         //
         // Utility Function
         //
         function displayMessage(msg) {
            var target = document.getElementById("textarea");
            target.value = msg + "\n\n" + target.value;
         }
      </script>	
   </head>
   <body onload="init();">
   		<div>
   			<h1>Welcome to my game!</h1>
   		</div>
       <textarea id="textarea" rows="8" cols="32"></textarea>     
       <br>
       <b>Command:</b>
       <input type="text" 
              id = "txtCommand"
              name="txtCommand">

       <input type="button"
              value="Go" 
              onclick="btnGo_click();" />                           
       
       <br>
       <input type="button" 
              value="North"
              onclick="btnNorth_click();">
       <input type="button" 
              value="South"
              onclick="btnSouth_click();">
       <input type="button" 
              value="East"
              onclick="btnEast_click();">
       <input type="button" 
              value="West"
              onclick="btnWest_click();">
    	
    	<br>
    	<br>
		<a href="mailto:sarah.sullivan2@marist.edu">Click here to email me for help!</a>
   </body>
</html>